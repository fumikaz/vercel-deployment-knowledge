# Vercel Deployment Knowledge Base

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€Vercelã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã«é–¢ã™ã‚‹ãƒã‚¦ãƒã‚¦ã‚’è“„ç©ãƒ»å…±æœ‰ã™ã‚‹ãŸã‚ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã§ã™ã€‚

## ğŸ¯ ç›®çš„

- Vercelãƒ‡ãƒ—ãƒ­ã‚¤ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ä¸€å…ƒç®¡ç†
- è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–“ã§ã®ãƒã‚¦ãƒã‚¦å…±æœ‰
- GitHub Copilotã«å­¦ç¿’ã•ã›ã‚‹ãŸã‚ã®æ§‹é€ åŒ–ã•ã‚ŒãŸãƒŠãƒ¬ãƒƒã‚¸æä¾›

## ğŸ“ æ§‹æˆ

```
vercel-deployment-knowledge/
â”œâ”€â”€ README.md                              # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docs/                                  # è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ 01-setup-guide.md                 # åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ 02-database-config.md             # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
â”‚   â”œâ”€â”€ 03-form-management.md             # ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†ã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ 04-troubleshooting.md             # ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
â”‚   â”œâ”€â”€ 05-directory-structure-refactoring.md # ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ 06-project-structure.md           # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚¬ã‚¤ãƒ‰
â”‚   â””â”€â”€ 07-refactor-checklist.md          # ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
â”œâ”€â”€ templates/                   # å†åˆ©ç”¨å¯èƒ½ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ vercel.json             # Vercelè¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ middleware.ts           # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ api-route-template.ts   # API Routeãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ env-template.txt        # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ scripts/                     # è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ setup-submodule.sh     # ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ deploy-check.sh        # ãƒ‡ãƒ—ãƒ­ã‚¤å‰ãƒã‚§ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ examples/                    # å®Ÿè£…ä¾‹
â”‚   â””â”€â”€ next-prisma-supabase/  # Next.js + Prisma + Supabaseä¾‹
â””â”€â”€ .copilot/                    # GitHub Copilotå°‚ç”¨ãƒŠãƒ¬ãƒƒã‚¸
    â”œâ”€â”€ knowledge-base.md       # æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³é›†
    â””â”€â”€ patterns.md             # ã‚ˆãä½¿ã†ã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦è¿½åŠ 

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ
git submodule add https://github.com/fumikaz/vercel-deployment-knowledge.git docs/vercel-knowledge
git submodule update --init --recursive
```

### ãƒã‚¦ãƒã‚¦ã®å‚ç…§

```bash
# æœ€æ–°ã®ãƒã‚¦ãƒã‚¦ã‚’å–å¾—
cd docs/vercel-knowledge
git pull origin main
cd ../..
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨

```bash
# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚³ãƒ”ãƒ¼
cp docs/vercel-knowledge/templates/vercel.json ./vercel.json
cp docs/vercel-knowledge/templates/middleware.ts ./src/middleware.ts
```

## ï¿½ ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»æ§‹é€ 

- [`05-directory-structure-refactoring.md`](docs/05-directory-structure-refactoring.md) - Feature-driven architectureã¨App Routeræº–æ‹ ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚¬ã‚¤ãƒ‰
- [`06-project-structure.md`](docs/06-project-structure.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®æ§‹é€ ã‚¬ã‚¤ãƒ‰
- [`07-refactor-checklist.md`](docs/07-refactor-checklist.md) - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ä½œæ¥­ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»è¨­å®š

- [`01-setup-guide.md`](docs/01-setup-guide.md) - åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
- [`02-database-config.md`](docs/02-database-config.md) - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
- [`04-troubleshooting.md`](docs/04-troubleshooting.md) - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### é–‹ç™ºã‚¬ã‚¤ãƒ‰

- [`03-form-management.md`](docs/03-form-management.md) - ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

## ï¿½ğŸ“‹ ã‚¯ã‚¤ãƒƒã‚¯ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

Vercelãƒ‡ãƒ—ãƒ­ã‚¤å‰ã®ç¢ºèªé …ç›®ï¼š

- [ ] API Routeã« `export const dynamic = 'force-dynamic'` è¨­å®šæ¸ˆã¿
- [ ] Prismaã®binary targetãŒè¨­å®šæ¸ˆã¿ (`rhel-openssl-3.0.x`)
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã§Connection Poolingä½¿ç”¨
- [ ] ç’°å¢ƒå¤‰æ•°ãŒVercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¨­å®šæ¸ˆã¿
- [ ] vercel.jsonã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šæ¸ˆã¿
- [ ] èªè¨¼è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

## ğŸ”„ æ›´æ–°æ–¹æ³•

ã“ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã«æ–°ã—ã„ãƒã‚¦ãƒã‚¦ã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š

1. è©²å½“ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°
2. æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒã‚ã‚Œã° `templates/` ã«è¿½åŠ 
3. Copilotç”¨ãƒŠãƒ¬ãƒƒã‚¸ï¼ˆ`.copilot/`ï¼‰ã‚‚æ›´æ–°
4. å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ›´æ–°ã‚’å®Ÿè¡Œ

## ğŸ¤ è²¢çŒ®

æ–°ã—ã„ãƒã‚¦ãƒã‚¦ã‚„æ”¹å–„ææ¡ˆãŒã‚ã‚Œã°ã€ä»¥ä¸‹ã®æ–¹æ³•ã§è²¢çŒ®ã—ã¦ãã ã•ã„ï¼š

1. Issues ã§ææ¡ˆ
2. Pull Request ã§ç›´æ¥æ”¹å–„
3. å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä½¿ç”¨çµŒé¨“ã‚’ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

---

**æ›´æ–°æ—¥**: 2025å¹´9æœˆ27æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
